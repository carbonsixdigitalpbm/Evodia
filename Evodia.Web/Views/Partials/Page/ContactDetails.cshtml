@using Umbraco.Web
@inherits UmbracoViewPage<IPublishedContent>
@{
    var homePage = Umbraco.TypedContentAtRoot().First();
    var settings = homePage.Descendants("globalSettings").First();

    var hasPhone = settings.HasValue("phoneNumber") ? true : false;
    var hasEmail = settings.HasValue("emailAddress") ? true : false;
	var hasOfficeName = settings.HasValue("officeName");
    var hasAddress = settings.HasValue("postalAddress") ? true : false;
}

@if( hasPhone || hasEmail || hasAddress )
{
    <article class="vcard">
		@if( hasOfficeName ) {
			<h2 class="vcard__headline u-zeta">@settings.GetPropertyValue("officeName")</h2>
		}
        @if( hasAddress )
        {
            <p class="adr">
                @Html.Raw(@library.ReplaceLineBreaks(settings.GetPropertyValue("postalAddress").ToString()))
            </p>
        }
        @if( hasPhone )
        {
            string phoneNumber = settings.GetPropertyValue<string>("phoneNumber");
            <p class="tel">Tel: @phoneNumber</p>
        }
        @if( hasEmail )
        {
            string emailAddress = settings.GetPropertyValue<string>("emailAddress");
            @:Email: <a href="mailto:@emailAddress">@emailAddress</a>
        }
    </article>
}
