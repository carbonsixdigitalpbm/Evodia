@using Umbraco.Web
@using Umbraco.Web.Mvc
@using Evodia.Core.Utility
@inherits UmbracoViewPage<IPublishedContent>
@{
	var homePage = Model.AncestorOrSelf(1);
	var isConsultancySite = !Helpers.IsPrimarySite(homePage.Id);
	var settings = homePage;
	if (isConsultancySite) {
		settings = homePage.Descendants("consultancySettings").FirstOrDefault();
	} else {
    	settings = homePage.Descendants("globalSettings").FirstOrDefault();
	}

    string siteName = settings.GetPropertyValue<string>("websiteName");
	var phoneNumber = settings.GetPropertyValue<string>("phoneNumber");

	var CVUploadPage = Umbraco.TypedContent( settings.GetPropertyValue<int>("CVUploadPage") );
}

<header id="header" class="c-header o-wrap js-header" role="banner">
	<div class="c-header__inner o-wrap--center o-wrap--xx-large u-clearfix">
		<div class="c-header__group u-clearfix">
			<a href="/" class="c-header__logo-link">
				@*
				<img src="/assets/img/evodia-logo.svg" alt="@siteName" class="c-header__logo-image">
				*@
				@if (isConsultancySite) {
					<div class="c-header__logo-image">
						<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 292.71 44.64"><title>Evodia consulting</title><polygon points="33.88 14.51 28.61 27.68 23.26 14.51 18.9 14.51 27.32 33.54 29.49 33.54 38.01 14.51 33.88 14.51" style="fill:#0093d0"/><path d="M41.24,17a9.42,9.42,0,0,0-2.92,7,9.85,9.85,0,0,0,2.86,7.22,9.61,9.61,0,0,0,7.11,2.9,10,10,0,0,0,7.23-2.85,9.61,9.61,0,0,0,2.92-7.11,9.67,9.67,0,0,0-2.9-7.1,10.31,10.31,0,0,0-14.29,0Zm2.6,11.92h0A7,7,0,0,1,42.17,24a6.68,6.68,0,0,1,1.71-4.72,6.41,6.41,0,0,1,9,0,6.83,6.83,0,0,1,1.69,4.82,6.82,6.82,0,0,1-1.69,4.82,6.48,6.48,0,0,1-9,0Z" style="fill:#0093d0"/><path d="M76.21,16.79A7.8,7.8,0,0,0,70,14.1a8.73,8.73,0,0,0-6.61,2.83A10.25,10.25,0,0,0,60.85,24a10.62,10.62,0,0,0,2.54,7.24,8.43,8.43,0,0,0,6.39,2.81,8.33,8.33,0,0,0,6.42-3V33.5H80V6.84H76.21ZM74.76,28.88a5.56,5.56,0,0,1-4.34,1.86,5.17,5.17,0,0,1-4.18-1.92A7.24,7.24,0,0,1,64.64,24a7.11,7.11,0,0,1,1.64-4.67,5.37,5.37,0,0,1,4.18-1.9,5.48,5.48,0,0,1,4.29,1.88,7.11,7.11,0,0,1,1.64,4.8A7.11,7.11,0,0,1,74.76,28.88Z" style="fill:#0093d0"/><path d="M108.41,14.52v2.34a8,8,0,0,0-6.28-2.69A8.73,8.73,0,0,0,95.53,17,10.25,10.25,0,0,0,93,24.07a10.62,10.62,0,0,0,2.54,7.24,8.43,8.43,0,0,0,6.39,2.81,8.55,8.55,0,0,0,6.49-3v2.46h3.71v-19Zm-1.52,14.43a5.56,5.56,0,0,1-4.34,1.86,5.16,5.16,0,0,1-4.18-1.92,7.22,7.22,0,0,1-1.6-4.83,7.12,7.12,0,0,1,1.64-4.67,5.37,5.37,0,0,1,4.18-1.9,5.48,5.48,0,0,1,4.3,1.88,7.1,7.1,0,0,1,1.64,4.8A7.1,7.1,0,0,1,106.89,28.94Z" style="fill:#0093d0"/><rect x="85.14" y="14.51" width="3.84" height="19.01" style="fill:#0093d0"/><rect x="39.87" y="6.86" width="16.72" height="2.92" style="fill:#0093d0"/><rect x="85.15" y="6.85" width="3.84" height="3.27" style="fill:#0093d0"/><path d="M13.43,28.91a5.11,5.11,0,0,1-4.1,1.83,5.26,5.26,0,0,1-4.17-1.85A6.07,6.07,0,0,1,3.91,25H18.47c0-.32,0-.7,0-1a10.33,10.33,0,0,0-2.54-7.23,8.63,8.63,0,0,0-6.6-2.76,8.77,8.77,0,0,0-6.63,2.79,10,10,0,0,0-2.69,7,10.25,10.25,0,0,0,2.55,7.22,8.85,8.85,0,0,0,6.71,2.9A9,9,0,0,0,16,31.33a9.68,9.68,0,0,0,2.19-3.92H14.31A4.91,4.91,0,0,1,13.43,28.91ZM5.29,19.26a5,5,0,0,1,4-1.85,5,5,0,0,1,4.05,1.84,6.26,6.26,0,0,1,1.07,2.86H4.09A6.37,6.37,0,0,1,5.29,19.26Z" style="fill:#0093d0"/><path d="M116.6,9a2,2,0,1,1-2-2A2,2,0,0,1,116.6,9Zm-3.73,0a1.72,1.72,0,1,0,1.72-1.74A1.73,1.73,0,0,0,112.87,9Zm1.83-1.13c.14,0,.81,0,.81.62a.53.53,0,0,1-.43.56h0c.32.09.37.28.38.57s0,.44.07.53h-.29c0-.07-.06-.14-.07-.43s-.06-.55-.59-.55H114v1h-.29V7.85ZM114,8.91h.58c.15,0,.62,0,.62-.42s-.42-.37-.57-.37H114Z" style="fill:#0093d0"/><path d="M139.74,15.21v6A11,11,0,0,0,137,18.63a5.41,5.41,0,0,0-2.83-.72,5.59,5.59,0,0,0-4.24,1.79,6.27,6.27,0,0,0-1.69,4.48,6.41,6.41,0,0,0,1.63,4.52,5.49,5.49,0,0,0,4.2,1.77,5.74,5.74,0,0,0,2.87-.7,11.4,11.4,0,0,0,2.83-2.65v6a11.88,11.88,0,0,1-5.51,1.43,10.53,10.53,0,0,1-7.6-2.93,9.79,9.79,0,0,1-3.06-7.34,9.92,9.92,0,0,1,3.1-7.4,10.47,10.47,0,0,1,7.6-3A11.35,11.35,0,0,1,139.74,15.21Z" style="fill:#58595b"/><path d="M142,24a9.73,9.73,0,0,1,3-7.21,10.71,10.71,0,0,1,14.83,0,10,10,0,0,1,3,7.36,9.91,9.91,0,0,1-3,7.38,10.37,10.37,0,0,1-7.5,3,10,10,0,0,1-7.38-3A10.14,10.14,0,0,1,142,24Zm4.62.08a6.6,6.6,0,0,0,1.57,4.64,6.09,6.09,0,0,0,8.48,0,6.44,6.44,0,0,0,1.59-4.56,6.44,6.44,0,0,0-1.59-4.56,6,6,0,0,0-8.44,0A6.29,6.29,0,0,0,146.59,24.1Z" style="fill:#58595b"/><path d="M166.4,14.37h4.54v1.81a7.41,7.41,0,0,1,5.35-2.35A6.76,6.76,0,0,1,181.61,16q1.65,1.83,1.65,6v12h-4.54V23a7.18,7.18,0,0,0-.8-4,3.25,3.25,0,0,0-2.86-1.12,3.49,3.49,0,0,0-3.2,1.49q-.92,1.47-.92,5.13v9.45H166.4Z" style="fill:#58595b"/><path d="M199.1,17.71l-3.74,2q-.88-1.81-2.19-1.81a1.51,1.51,0,0,0-1.06.41,1.38,1.38,0,0,0-.44,1.06q0,1.13,2.61,2.23a15.58,15.58,0,0,1,4.84,2.85A4.88,4.88,0,0,1,200.37,28a6.17,6.17,0,0,1-2.09,4.74,7.11,7.11,0,0,1-4.9,1.81q-4.92,0-7-4.8l3.86-1.79a8.39,8.39,0,0,0,1.23,1.79,2.8,2.8,0,0,0,2,.76q2.29,0,2.29-2.09,0-1.21-1.77-2.25l-1.37-.66-1.39-.66a8.49,8.49,0,0,1-2.77-1.93,4.75,4.75,0,0,1-1-3.16,5.58,5.58,0,0,1,1.75-4.22,6.13,6.13,0,0,1,4.34-1.67Q197.28,13.83,199.1,17.71Z" style="fill:#58595b"/><path d="M207.72,14.37V25.6q0,4.86,3.84,4.86t3.84-4.86V14.37h4.52V25.7a12.61,12.61,0,0,1-.58,4.06,6.83,6.83,0,0,1-1.95,2.75,9.5,9.5,0,0,1-11.64,0,6.92,6.92,0,0,1-2-2.75,11.17,11.17,0,0,1-.56-4.06V14.37Z" style="fill:#58595b"/><path d="M228.91,0V33.94h-4.52V0Z" style="fill:#58595b"/><path d="M238.07,18.59V33.94h-4.52V18.59h-1.93V14.37h1.93V7.19h4.52v7.17h3.52v4.22Z" style="fill:#58595b"/><path d="M242.74,6.23a2.8,2.8,0,0,1,.86-2,2.82,2.82,0,0,1,2.07-.86,2.85,2.85,0,0,1,2.09.86,2.78,2.78,0,0,1,.86,2.07,2.85,2.85,0,0,1-.86,2.09,2.78,2.78,0,0,1-2.07.86,2.84,2.84,0,0,1-2.09-.86A2.87,2.87,0,0,1,242.74,6.23Zm5.21,8.14V33.94h-4.52V14.37Z" style="fill:#58595b"/><path d="M252.44,14.37H257v1.81a7.41,7.41,0,0,1,5.35-2.35A6.75,6.75,0,0,1,267.65,16q1.65,1.83,1.65,6v12h-4.54V23a7.18,7.18,0,0,0-.8-4,3.25,3.25,0,0,0-2.85-1.12,3.49,3.49,0,0,0-3.2,1.49Q257,20.84,257,24.5v9.45h-4.54Z" style="fill:#58595b"/><path d="M292.71,33.48q0,1.39-.09,2.44a17.2,17.2,0,0,1-.25,1.86,8.29,8.29,0,0,1-1.89,3.8,9.16,9.16,0,0,1-7.29,3.05,9.73,9.73,0,0,1-6.45-2.11,8.62,8.62,0,0,1-3-6h4.54a5.13,5.13,0,0,0,.86,2.23,4.86,4.86,0,0,0,4.1,1.83q5,0,5-6.09V31.75A8.44,8.44,0,0,1,282,34.51a8.34,8.34,0,0,1-6.55-2.89,10.72,10.72,0,0,1-2.57-7.34A11.29,11.29,0,0,1,275.24,17,8.31,8.31,0,0,1,282,13.83a7.89,7.89,0,0,1,6.15,2.75V14.37h4.52Zm-4.34-9.28a6.59,6.59,0,0,0-1.53-4.56,5,5,0,0,0-4-1.75,4.87,4.87,0,0,0-4.06,1.91,6.93,6.93,0,0,0-1.35,4.42,6.87,6.87,0,0,0,1.35,4.38,4.87,4.87,0,0,0,4.06,1.87,5,5,0,0,0,4.1-1.89A6.73,6.73,0,0,0,288.37,24.2Z" style="fill:#58595b"/></svg>
					</div>
				} else {
					<div class="c-header__logo-image">
						<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 35"><path fill="#FFF" d="M20.6 24.5H5.2c.1 1.8.7 3.2 1.7 4.2s2.3 1.5 3.9 1.5c1.2 0 2.3-.3 3.1-.9.8-.6 1.7-1.7 2.7-3.3l4.2 2.3c-.6 1.1-1.3 2.1-2 2.8-.7.8-1.5 1.4-2.3 1.9-.8.5-1.7.9-2.7 1.1-1 .2-2 .4-3.1.4-3.2 0-5.8-1-7.7-3.1-2-1.9-3-4.6-3-8 0-3.4.9-6.1 2.8-8.3C4.7 13 7.2 12 10.4 12c3.2 0 5.7 1 7.5 3 1.8 2 2.7 4.8 2.7 8.3v1.2zm-5.1-4c-.7-2.7-2.4-4-5-4-.6 0-1.2.1-1.7.3-.5.2-1 .5-1.4.8-.4.3-.8.8-1.1 1.3-.3.5-.5 1-.7 1.7h9.9zm10.3-8l5.7 13.7 5.4-13.7h5.6L33 34.2h-2.9l-9.8-21.6h5.5zm16.3 10.8c0-3.1 1.1-5.7 3.3-7.9 2.2-2.2 4.9-3.3 8.1-3.3 3.2 0 5.9 1.1 8.1 3.3 2.2 2.2 3.3 4.9 3.3 8.1 0 3.2-1.1 5.9-3.3 8.1-2.2 2.2-5 3.2-8.2 3.2-3.2 0-5.9-1.1-8.1-3.3-2.2-2.2-3.2-4.9-3.2-8.2zm5 .1c0 2.1.6 3.8 1.7 5.1 1.2 1.3 2.7 1.9 4.7 1.9 1.9 0 3.5-.6 4.7-1.9 1.2-1.2 1.7-2.9 1.7-5s-.6-3.8-1.7-5c-1.2-1.3-2.7-1.9-4.7-1.9-1.9 0-3.4.6-4.6 1.9-1.2 1.2-1.8 2.9-1.8 4.9zM84.2.4h5v33.8h-5V32c-2 1.9-4.2 2.9-6.6 2.9-2.9 0-5.4-1.1-7.3-3.2-1.9-2.2-2.9-4.9-2.9-8.2 0-3.2 1-5.9 2.9-8 1.9-2.2 4.3-3.2 7.2-3.2 2.5 0 4.8 1 6.7 3.1V.4zm-11.8 23c0 2.1.5 3.7 1.7 5 1.1 1.3 2.6 2 4.3 2 1.8 0 3.3-.6 4.4-1.9 1.1-1.3 1.7-3 1.7-5s-.6-3.7-1.7-5c-1.1-1.3-2.6-1.9-4.4-1.9-1.7 0-3.1.6-4.3 1.9-1.1 1.3-1.7 2.9-1.7 4.9zm25.8-10.7v21.5h-5V12.7h5zM60.8 8.5H46.2V4.3h14.6v4.2zm56.8 4.4h5v21.5h-5v-2.2c-2 1.9-4.2 2.9-6.6 2.9-3 0-5.4-1.1-7.4-3.2-1.9-2.2-2.9-4.9-2.9-8.2 0-3.2 1-5.9 2.9-8.1 1.9-2.1 4.3-3.2 7.2-3.2 2.5 0 4.7 1 6.7 3.1v-2.6zm-11.8 10.6c0 2.1.5 3.7 1.7 5 1.1 1.3 2.6 2 4.3 2 1.8 0 3.3-.6 4.4-1.9 1.1-1.3 1.7-3 1.7-5s-.6-3.7-1.7-5c-1.1-1.3-2.6-1.9-4.4-1.9-1.7 0-3.1.6-4.3 1.9-1.1 1.4-1.7 3-1.7 4.9zM93.3 4.1h5v4.3h-5zm29.3-1.4c0-.5.1-.9.4-1.3.2-.4.6-.7 1-1 .4-.2.9-.4 1.4-.4.5 0 1 .1 1.4.4.4.2.7.6 1 1 .2.4.4.9.4 1.3 0 .5-.1 1-.4 1.4-.2.4-.6.7-1 1s-.9.4-1.3.4c-.5 0-.9-.1-1.4-.4-.4-.2-.8-.6-1-1-.4-.4-.5-.9-.5-1.4zm.5 0c0 .4.1.8.3 1.1.2.3.5.6.8.8s.7.3 1.1.3c.4 0 .8-.1 1.1-.3.3-.2.6-.5.8-.8.2-.3.3-.7.3-1.1 0-.4-.1-.8-.3-1.1-.2-.3-.5-.6-.8-.8-.3-.2-.7-.3-1.1-.3-.4 0-.8.1-1.1.3-.3.2-.6.5-.8.8-.2.4-.3.7-.3 1.1zm2.5-1.4c.3 0 .5.1.6.2.2.1.2.3.2.6 0 .2-.1.4-.2.6-.1.2-.3.2-.6.3.1 0 .2.1.3.2.1.1.2.3.4.5l.3.6h-.6l-.1-.3-.3-.6-.3-.3c-.1-.1-.2-.1-.4-.1h-.2v1.2h-.5V1.3h1.4zm-.3 1.3c.2 0 .3 0 .4-.1.1-.1.1-.2.1-.3 0-.1 0-.2-.1-.3-.1-.1-.2-.1-.4-.1h-.7v.8h.7z"/></svg>
					</div>
				}
			</a>
			<button class="c-header__toggle-menu-button" id="toggle-menu" aria-haspopup="true" data-toggle="js-nav">
				<span class="o-icon--list" aria-hidden="hidden"></span>
				<span class="u-hide-text">Menu</span>
			</button>
		</div>

		<div class="c-header__supplementary u-hide-small u-hide-medium u-hide-large">
			@if( !String.IsNullOrEmpty( phoneNumber ) ) {
				<strong>@phoneNumber</strong>
			}
			@if( CVUploadPage != null )
			{
				<a href="@CVUploadPage.Url" class="c-button c-button--secondary-invert">Upload CV</a>
			}
			@Html.Partial("~/Views/Partials/Components/SocialLinks.cshtml")
		</div>

		<div class="c-header__nav-wrap">
			@Html.Partial("~/Views/Partials/Page/MainNavigation.cshtml")
		</div>

    </div>
</header>
