@using Umbraco.Web
@using Umbraco.Web.Mvc
@using Evodia.Core.Utility
@inherits UmbracoViewPage<IPublishedContent>
@{
	var homePage = Model.AncestorOrSelf(1);
	var isConsultancySite = !Helpers.IsPrimarySite(homePage.Id);
	var settings = homePage;
	if (isConsultancySite) {
		settings = homePage.Descendants("consultancySettings").FirstOrDefault();
	} else {
    	settings = homePage.Descendants("globalSettings").FirstOrDefault();
	}

    string siteName = settings.GetPropertyValue<string>("websiteName");
	var phoneNumber = settings.GetPropertyValue<string>("phoneNumber");

	var CVUploadPage = Umbraco.TypedContent( settings.GetPropertyValue<int>("CVUploadPage") );
}

<header id="header" class="c-header o-wrap js-header" role="banner">
	<div class="c-header__inner o-wrap--center o-wrap--xx-large u-clearfix">
		<div class="c-header__group u-clearfix">
			<a href="/" class="c-header__logo-link">
				@*
				<img src="/assets/img/evodia-logo.svg" alt="@siteName" class="c-header__logo-image">
				*@
				@if (isConsultancySite) {
					<div class="c-header__logo-image">
						<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 292.01 46.75"><title>Evodia consulting</title><polygon points="33.88 16.29 28.61 29.46 23.26 16.29 18.9 16.29 27.32 35.31 29.49 35.31 38.01 16.29 33.88 16.29" style="fill:#0093d0"/><path d="M41.24,18.75a9.42,9.42,0,0,0-2.92,7,9.85,9.85,0,0,0,2.86,7.22,9.61,9.61,0,0,0,7.11,2.9A10,10,0,0,0,55.52,33a9.61,9.61,0,0,0,2.92-7.11,9.67,9.67,0,0,0-2.9-7.1,10.31,10.31,0,0,0-14.29,0Zm2.6,11.92h0a7,7,0,0,1-1.67-4.9A6.68,6.68,0,0,1,43.88,21a6.41,6.41,0,0,1,9,0,6.83,6.83,0,0,1,1.69,4.82,6.82,6.82,0,0,1-1.69,4.82,6.48,6.48,0,0,1-9,0Z" style="fill:#0093d0"/><path d="M76.21,18.57A7.8,7.8,0,0,0,70,15.87a8.73,8.73,0,0,0-6.61,2.83,10.25,10.25,0,0,0-2.54,7.08A10.62,10.62,0,0,0,63.39,33a8.43,8.43,0,0,0,6.39,2.81,8.33,8.33,0,0,0,6.42-3v2.49H80V8.62H76.21ZM74.76,30.66a5.56,5.56,0,0,1-4.34,1.86,5.17,5.17,0,0,1-4.18-1.92,7.24,7.24,0,0,1-1.6-4.83,7.11,7.11,0,0,1,1.64-4.67,5.37,5.37,0,0,1,4.18-1.9,5.48,5.48,0,0,1,4.29,1.88,7.11,7.11,0,0,1,1.64,4.8A7.11,7.11,0,0,1,74.76,30.66Z" style="fill:#0093d0"/><path d="M108.41,16.29v2.34a8,8,0,0,0-6.28-2.69,8.73,8.73,0,0,0-6.61,2.83A10.25,10.25,0,0,0,93,25.85a10.62,10.62,0,0,0,2.54,7.24,8.43,8.43,0,0,0,6.39,2.81,8.55,8.55,0,0,0,6.49-3v2.46h3.71v-19Zm-1.52,14.43a5.56,5.56,0,0,1-4.34,1.86,5.16,5.16,0,0,1-4.18-1.92,7.22,7.22,0,0,1-1.6-4.83,7.12,7.12,0,0,1,1.64-4.67,5.37,5.37,0,0,1,4.18-1.9,5.48,5.48,0,0,1,4.3,1.88,7.1,7.1,0,0,1,1.64,4.8A7.1,7.1,0,0,1,106.89,30.72Z" style="fill:#0093d0"/><rect x="85.14" y="16.29" width="3.84" height="19.01" style="fill:#0093d0"/><rect x="39.87" y="8.64" width="16.72" height="2.92" style="fill:#0093d0"/><rect x="85.15" y="8.63" width="3.84" height="3.27" style="fill:#0093d0"/><path d="M13.43,30.69a5.11,5.11,0,0,1-4.1,1.83,5.26,5.26,0,0,1-4.17-1.85,6.07,6.07,0,0,1-1.24-3.84H18.47c0-.32,0-.7,0-1a10.33,10.33,0,0,0-2.54-7.23,8.63,8.63,0,0,0-6.6-2.76,8.77,8.77,0,0,0-6.63,2.79A10,10,0,0,0,0,25.7a10.25,10.25,0,0,0,2.55,7.22,8.85,8.85,0,0,0,6.71,2.9A9,9,0,0,0,16,33.11a9.68,9.68,0,0,0,2.19-3.92H14.31A4.91,4.91,0,0,1,13.43,30.69ZM5.29,21a5,5,0,0,1,4-1.85A5,5,0,0,1,13.38,21a6.26,6.26,0,0,1,1.07,2.86H4.09A6.37,6.37,0,0,1,5.29,21Z" style="fill:#0093d0"/><path d="M116.6,10.76a2,2,0,1,1-2-2A2,2,0,0,1,116.6,10.76Zm-3.73,0A1.72,1.72,0,1,0,114.59,9,1.73,1.73,0,0,0,112.87,10.76Zm1.83-1.13c.14,0,.81,0,.81.62a.53.53,0,0,1-.43.56h0c.32.09.37.28.38.57s0,.44.07.53h-.29c0-.07-.06-.14-.07-.43s-.06-.55-.59-.55H114v1h-.29V9.63ZM114,10.69h.58c.15,0,.62,0,.62-.42s-.42-.37-.57-.37H114Z" style="fill:#0093d0"/><path d="M138.36,21.93a7.06,7.06,0,0,0-5.51-2.59,6.66,6.66,0,0,0-6.42,6.75,6.51,6.51,0,0,0,6.67,6.83,6.92,6.92,0,0,0,5.27-2.55V35.1a10.77,10.77,0,0,1-5.31,1.28,10.14,10.14,0,0,1-10.33-10.12,10.24,10.24,0,0,1,10.54-10.37,10.43,10.43,0,0,1,5.1,1.28Z" style="fill:#58595b"/><path d="M161.21,26.13a10.29,10.29,0,1,1-10.29-10.25A10.13,10.13,0,0,1,161.21,26.13Zm-16.87,0a6.59,6.59,0,1,0,6.58-6.71A6.68,6.68,0,0,0,144.33,26.13Z" style="fill:#58595b"/><path d="M168.29,19.05h.08a6.57,6.57,0,0,1,5.8-3.17c5.43,0,6.83,3.66,6.83,8.35V35.72h-3.7v-11c0-3.29-.45-5.51-4.24-5.51-4.77,0-4.77,4.2-4.77,7.7v8.85h-3.7V16.46h3.7Z" style="fill:#58595b"/><path d="M193.85,20.86a2.85,2.85,0,0,0-2.47-1.69,2,2,0,0,0-2,1.89c0,1.69,2.22,2.43,4.49,3.46S198.29,27,198.29,30a6.47,6.47,0,0,1-6.62,6.38A7.1,7.1,0,0,1,185,32.06l3.17-1.44c.78,1.44,1.73,2.47,3.5,2.47a2.76,2.76,0,0,0,2.92-2.72,2.33,2.33,0,0,0-1.36-2.1l-3.62-1.93c-2.14-1.15-3.7-2.22-3.7-4.86a5.62,5.62,0,0,1,5.68-5.6,5.73,5.73,0,0,1,5.27,3.37Z" style="fill:#58595b"/><path d="M205.46,16.46V27.12c0,3.09.78,5.8,4.44,5.8s4.44-2.72,4.44-5.8V16.46H218V27.53c0,5.27-2.47,8.85-8.15,8.85s-8.15-3.58-8.15-8.85V16.46Z" style="fill:#58595b"/><path d="M226.86,35.72h-3.7V0h3.7Z" style="fill:#58595b"/><path d="M236.36,35.72h-3.7V19.92h-2V16.46h2V9.09h3.7v7.37H240v3.46h-3.62Z" style="fill:#58595b"/><path d="M247.23,7.65a2.55,2.55,0,0,1-5.1,0,2.55,2.55,0,1,1,5.1,0Zm-.7,28.07h-3.7V16.46h3.7Z" style="fill:#58595b"/><path d="M256.16,19.05h.08a6.57,6.57,0,0,1,5.8-3.17c5.43,0,6.83,3.66,6.83,8.35V35.72h-3.7v-11c0-3.29-.45-5.51-4.24-5.51-4.77,0-4.77,4.2-4.77,7.7v8.85h-3.7V16.46h3.7Z" style="fill:#58595b"/><path d="M292,35.35c0,6.63-1.89,11.4-9.38,11.4-5.35,0-9.22-3.29-9.3-8.72H277c0,3.46,2.39,5.43,5.76,5.43,4.57,0,5.51-3.13,5.51-7.08V32.72h-.08a8,8,0,0,1-6.54,3.66c-5.93,0-9.22-4.9-9.22-10.41,0-5.27,3.5-10.08,9.05-10.08a7.79,7.79,0,0,1,6.71,3.87h.08V16.46H292Zm-3.5-9.26c0-3.74-2.26-6.91-6.25-6.91-3.83,0-6.09,3.33-6.09,6.91s2.18,7,6.09,7S288.51,29.88,288.51,26.09Z" style="fill:#58595b"/></svg>
					</div>
				} else {
					<div class="c-header__logo-image">
						<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 35"><title>Evodia</title><path fill="#FFF" d="M20.6 24.5H5.2c.1 1.8.7 3.2 1.7 4.2s2.3 1.5 3.9 1.5c1.2 0 2.3-.3 3.1-.9.8-.6 1.7-1.7 2.7-3.3l4.2 2.3c-.6 1.1-1.3 2.1-2 2.8-.7.8-1.5 1.4-2.3 1.9-.8.5-1.7.9-2.7 1.1-1 .2-2 .4-3.1.4-3.2 0-5.8-1-7.7-3.1-2-1.9-3-4.6-3-8 0-3.4.9-6.1 2.8-8.3C4.7 13 7.2 12 10.4 12c3.2 0 5.7 1 7.5 3 1.8 2 2.7 4.8 2.7 8.3v1.2zm-5.1-4c-.7-2.7-2.4-4-5-4-.6 0-1.2.1-1.7.3-.5.2-1 .5-1.4.8-.4.3-.8.8-1.1 1.3-.3.5-.5 1-.7 1.7h9.9zm10.3-8l5.7 13.7 5.4-13.7h5.6L33 34.2h-2.9l-9.8-21.6h5.5zm16.3 10.8c0-3.1 1.1-5.7 3.3-7.9 2.2-2.2 4.9-3.3 8.1-3.3 3.2 0 5.9 1.1 8.1 3.3 2.2 2.2 3.3 4.9 3.3 8.1 0 3.2-1.1 5.9-3.3 8.1-2.2 2.2-5 3.2-8.2 3.2-3.2 0-5.9-1.1-8.1-3.3-2.2-2.2-3.2-4.9-3.2-8.2zm5 .1c0 2.1.6 3.8 1.7 5.1 1.2 1.3 2.7 1.9 4.7 1.9 1.9 0 3.5-.6 4.7-1.9 1.2-1.2 1.7-2.9 1.7-5s-.6-3.8-1.7-5c-1.2-1.3-2.7-1.9-4.7-1.9-1.9 0-3.4.6-4.6 1.9-1.2 1.2-1.8 2.9-1.8 4.9zM84.2.4h5v33.8h-5V32c-2 1.9-4.2 2.9-6.6 2.9-2.9 0-5.4-1.1-7.3-3.2-1.9-2.2-2.9-4.9-2.9-8.2 0-3.2 1-5.9 2.9-8 1.9-2.2 4.3-3.2 7.2-3.2 2.5 0 4.8 1 6.7 3.1V.4zm-11.8 23c0 2.1.5 3.7 1.7 5 1.1 1.3 2.6 2 4.3 2 1.8 0 3.3-.6 4.4-1.9 1.1-1.3 1.7-3 1.7-5s-.6-3.7-1.7-5c-1.1-1.3-2.6-1.9-4.4-1.9-1.7 0-3.1.6-4.3 1.9-1.1 1.3-1.7 2.9-1.7 4.9zm25.8-10.7v21.5h-5V12.7h5zM60.8 8.5H46.2V4.3h14.6v4.2zm56.8 4.4h5v21.5h-5v-2.2c-2 1.9-4.2 2.9-6.6 2.9-3 0-5.4-1.1-7.4-3.2-1.9-2.2-2.9-4.9-2.9-8.2 0-3.2 1-5.9 2.9-8.1 1.9-2.1 4.3-3.2 7.2-3.2 2.5 0 4.7 1 6.7 3.1v-2.6zm-11.8 10.6c0 2.1.5 3.7 1.7 5 1.1 1.3 2.6 2 4.3 2 1.8 0 3.3-.6 4.4-1.9 1.1-1.3 1.7-3 1.7-5s-.6-3.7-1.7-5c-1.1-1.3-2.6-1.9-4.4-1.9-1.7 0-3.1.6-4.3 1.9-1.1 1.4-1.7 3-1.7 4.9zM93.3 4.1h5v4.3h-5zm29.3-1.4c0-.5.1-.9.4-1.3.2-.4.6-.7 1-1 .4-.2.9-.4 1.4-.4.5 0 1 .1 1.4.4.4.2.7.6 1 1 .2.4.4.9.4 1.3 0 .5-.1 1-.4 1.4-.2.4-.6.7-1 1s-.9.4-1.3.4c-.5 0-.9-.1-1.4-.4-.4-.2-.8-.6-1-1-.4-.4-.5-.9-.5-1.4zm.5 0c0 .4.1.8.3 1.1.2.3.5.6.8.8s.7.3 1.1.3c.4 0 .8-.1 1.1-.3.3-.2.6-.5.8-.8.2-.3.3-.7.3-1.1 0-.4-.1-.8-.3-1.1-.2-.3-.5-.6-.8-.8-.3-.2-.7-.3-1.1-.3-.4 0-.8.1-1.1.3-.3.2-.6.5-.8.8-.2.4-.3.7-.3 1.1zm2.5-1.4c.3 0 .5.1.6.2.2.1.2.3.2.6 0 .2-.1.4-.2.6-.1.2-.3.2-.6.3.1 0 .2.1.3.2.1.1.2.3.4.5l.3.6h-.6l-.1-.3-.3-.6-.3-.3c-.1-.1-.2-.1-.4-.1h-.2v1.2h-.5V1.3h1.4zm-.3 1.3c.2 0 .3 0 .4-.1.1-.1.1-.2.1-.3 0-.1 0-.2-.1-.3-.1-.1-.2-.1-.4-.1h-.7v.8h.7z"/></svg>
					</div>
				}
			</a>
			<button class="c-header__toggle-menu-button" id="toggle-menu" aria-haspopup="true" data-toggle="js-nav">
				<span class="o-icon--list" aria-hidden="hidden"></span>
				<span class="u-hide-text">Menu</span>
			</button>
		</div>

		<div class="c-header__supplementary u-hide-small u-hide-medium u-hide-large">
			@if( !String.IsNullOrEmpty( phoneNumber ) ) {
				<strong>@phoneNumber</strong>
			}
			@if( CVUploadPage != null )
			{
				<a href="@CVUploadPage.Url" class="c-button c-button--secondary-invert">Upload CV</a>
			}
			@Html.Partial("~/Views/Partials/Components/SocialLinks.cshtml")
		</div>

		<div class="c-header__nav-wrap">
			@Html.Partial("~/Views/Partials/Page/MainNavigation.cshtml")
		</div>

    </div>
</header>
